<html>
	<head>
		<title>S-COM Software Online</title>
		<style>
			body {
				background: #000000;
				background-image: url('bg.png'), url('bgh.png'), url('bgv.png');
				background-repeat: no-repeat, repeat-y, repeat-x;
				font-family: "Courier";
				font-size: 15px;
				font-weight: bold;
				color: #fff;
				line-height: 0.3;
				
			}
			
			input {
				border: none;
				background-color: #000;
				color: #fff;
				outline: none;
				font-family: "Courier";
				font-size: 15px;
				font-weight: bold;
				width: 60%;
			}
			
			button {
				border-radius: 2px;
				background-color: #212121;
				color: #fff;
				outline: none;
				font-family: "Courier";
				font-size: 15px;
				font-weight: bold;
				border-style: solid;
			}
			button:hover {
				background-color: #808080;
			}
			button:active {
				background-color: #909090;
			}
			
			.info {
				font-size: 18px;
			}
			
			.console {
				max-width: 50%;
			}
			
			::selection {
				background-color: #fff;
				color: #fff;
			}

			/*** Mozilla based browsers ***/
			::-moz-selection {
				background-color: #fff;
				color: #fff;
			}

			/***For Other Browsers ***/
			::-o-selection {
				background-color: #fff;
				color: #fff;
			}

			::-ms-selection {
				background-color: #fff;
				color: #fff;
			}

			/*** For Webkit ***/
			::-webkit-selection {
				background-color: #fff;
				color: #fff;
			}
		</style>
		<script src= 
"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
		</script> 
		<script>
			function OnStart(){
				var input = document.getElementById("console_input");
				var enter = document.getElementById("console_enter");
				var username = document.getElementById("username");
				input.addEventListener("keyup", function(event) {
					if (event.keyCode === 13) {
						Print(username.innerHTML+enter.value);
						if(enter.value != ""){
							Command(enter.value);
						}
						//console.log(enter.value);
						enter.value = "";
					}
				});
				Print("Welcome to S-COM 1.3. To proceed please enter a command.");
				Print("Â© SCP Foundation 1982-1997.");
				Print("  ");
				$.getJSON("https://api.ipify.org?format=json", 
				function(data) { 
					$("#ip").html(data.ip); 
					var ip = document.getElementById("ip").innerHTML;
					username.innerHTML = ip+'>';
				})
			}
		</script>
		<script>
			function Command(str){
				var prs="";
				var read="";
				for (let i=0; i<str.length; i++){
					if(str.charAt(i) === ' '){
						break;
					}
					read+=str.charAt(i);
				}
				switch (read.toLowerCase()){
					case "say":
						for (let i=4; i<str.length; i++){
							prs+=str.charAt(i);
						}
						Print(prs);
						break;
						
					case "cmds":
						Print("CMDS               Shows all available commands.");
						Print("SAY [string]       Shows specified string.");
						break;
						
					case "send":
						for (let i=5; i<str.length; i++){
							prs+=str.charAt(i);
						}
						console.log(prs);
						$.ajax({
							url: "updateFile.php",
							method: "post",
							data: { data: prs }
						});
						break;
						
					default:
						Print("Unknown command")
				}
			}
		
			function Print(str){
				var input = document.getElementById("console_input");
				var line = document.createElement("p");
				line.innerHTML = str;
				line.style.position = "absolute";
				line.style.left = 290;
				line.style.top = parseInt(input.style.top)-7;
				line.style["white-space"] = "pre";
				document.body.appendChild(line);
				input.style.top = parseInt(input.style.top)+18;
			}
			
			function Exit(){
				document.write();
				close();
			}
		</script>
		<link rel="shortcut icon" href="favicon.png">
	</head>
	<body onload="OnStart()">
		<p style="position:absolute; left:350px; top:30px; font-size:30px;">S-COM SOFTWARE 1.3</p>
		<div align=RIGHT style="margin-right:152px;"><button onclick="Exit()" style="position:absolute; top:36px; font-size:30px; width:129; height:52;">EXIT</button></div>
		<div class="info" style="position:absolute; left:23px; top:204px;">
			<p>Encryption</p>
			<p style="margin-left: 36px">AES-256 CTR</p>
			<p style="margin-left: 36px">User Password</p>
			<br>
			<p>Server</p>
			<p style="margin-left: 36px">S-COM Online</p>
			<br>
			<p>Client</p>
			<p id="ip" style="margin-left: 36px">[NOT LOGGED IN]</p>
			<br>
			<p>icmp_seq NULL</p>
			<p>ttl = NULL</p>
			<p>ping = NULL ms</p>
			
		</div>
		<div class="console">
			<div id="console_input" style="position:absolute; left:290px; top:172px; width:75%; display:inline-block; float:left;">
				<b id="username" style="display:inline-block; float:left; line-height:1.3;">Null></b></b><input style="display:inline-block; float:left;" id="console_enter" onblur="this.focus()" autofocus>
			</div>
		</div>
	</body>
</html>